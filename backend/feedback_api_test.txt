â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    FEEDBACK & RATING SYSTEM - API TESTING GUIDE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BASE URL: http://localhost:5000

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ FEEDBACK APIs (/api/feedback)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. CREATE FEEDBACK (STUDENT ONLY - ENROLLED)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

METHOD:   POST
URL:      http://localhost:5000/api/feedback
HEADERS:  
  Content-Type: application/json
  Authorization: Bearer <STUDENT_TOKEN>

BODY (JSON):
{
  "courseId": "65course123...",
  "courseRating": 5,
  "courseReview": "Excellent course! Very well structured and informative.",
  "instructorRating": 4,
  "instructorReview": "Great instructor, very knowledgeable and helpful."
}

EXPECTED OUTPUT (201):
{
  "message": "Feedback created successfully",
  "feedback": {
    "_id": "65feedback789...",
    "student": {
      "_id": "65student456...",
      "name": "John Doe"
    },
    "course": {
      "_id": "65course123...",
      "title": "Complete Node.js Course"
    },
    "instructor": {
      "_id": "65instructor456...",
      "name": "Jane Instructor"
    },
    "courseRating": 5,
    "courseReview": "Excellent course! Very well structured and informative.",
    "instructorRating": 4,
    "instructorReview": "Great instructor, very knowledgeable and helpful.",
    "helpfulVotes": 0,
    "createdAt": "2025-01-08T...",
    "updatedAt": "2025-01-08T..."
  }
}

BUSINESS RULES:
- Only enrolled students can leave feedback
- One feedback per student per course
- Both course and instructor ratings are required (1-5 stars)
- Reviews are optional but limited to 1000 characters


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. GET COURSE FEEDBACK (PUBLIC)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

METHOD:   GET
URL:      http://localhost:5000/api/feedback/course/<COURSE_ID>
QUERY PARAMS (optional):
  - page=1 (pagination)
  - limit=10 (results per page)
  - sortBy=createdAt (sort field)
  - order=desc (asc/desc)

EXPECTED OUTPUT (200):
{
  "feedbacks": [
    {
      "_id": "65feedback789...",
      "student": {
        "_id": "65student456...",
        "name": "John Doe"
      },
      "courseRating": 5,
      "courseReview": "Excellent course! Very well structured and informative.",
      "instructorRating": 4,
      "instructorReview": "Great instructor, very knowledgeable and helpful.",
      "helpfulVotes": 3,
      "createdAt": "2025-01-08T..."
    }
  ],
  "totalPages": 1,
  "currentPage": 1,
  "total": 1,
  "courseInfo": {
    "title": "Complete Node.js Course",
    "averageRating": 4.8,
    "totalReviews": 15,
    "ratingDistribution": {
      "5": 10,
      "4": 3,
      "3": 2,
      "2": 0,
      "1": 0
    }
  }
}


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. GET INSTRUCTOR FEEDBACK (PUBLIC)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

METHOD:   GET
URL:      http://localhost:5000/api/feedback/instructor/<INSTRUCTOR_ID>
QUERY PARAMS (optional):
  - page=1 (pagination)
  - limit=10 (results per page)
  - sortBy=createdAt (sort field)
  - order=desc (asc/desc)

EXPECTED OUTPUT (200):
{
  "feedbacks": [
    {
      "_id": "65feedback789...",
      "student": {
        "_id": "65student456...",
        "name": "John Doe"
      },
      "course": {
        "_id": "65course123...",
        "title": "Complete Node.js Course"
      },
      "instructorRating": 4,
      "instructorReview": "Great instructor, very knowledgeable and helpful.",
      "helpfulVotes": 3,
      "createdAt": "2025-01-08T..."
    }
  ],
  "totalPages": 1,
  "currentPage": 1,
  "total": 1,
  "instructorInfo": {
    "name": "Jane Instructor",
    "instructorRating": 4.2,
    "totalInstructorReviews": 25,
    "instructorRatingDistribution": {
      "5": 8,
      "4": 12,
      "3": 4,
      "2": 1,
      "1": 0
    }
  }
}


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. UPDATE FEEDBACK (STUDENT ONLY - OWN FEEDBACK)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

METHOD:   PUT
URL:      http://localhost:5000/api/feedback/<FEEDBACK_ID>
HEADERS:  
  Content-Type: application/json
  Authorization: Bearer <STUDENT_TOKEN>

BODY (JSON):
{
  "courseRating": 4,
  "courseReview": "Updated review: Good course, but could use more examples.",
  "instructorRating": 5,
  "instructorReview": "Updated: Excellent instructor, very responsive to questions."
}

EXPECTED OUTPUT (200):
{
  "message": "Feedback updated successfully",
  "feedback": {
    "_id": "65feedback789...",
    "courseRating": 4,
    "courseReview": "Updated review: Good course, but could use more examples.",
    "instructorRating": 5,
    "instructorReview": "Updated: Excellent instructor, very responsive to questions.",
    "updatedAt": "2025-01-08T..."
  }
}

BUSINESS RULES:
- Only the student who created the feedback can update it
- Feedback can only be edited within 30 days of creation
- All rating and review fields can be updated


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. DELETE FEEDBACK (STUDENT ONLY - OWN FEEDBACK)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

METHOD:   DELETE
URL:      http://localhost:5000/api/feedback/<FEEDBACK_ID>
HEADERS:  
  Authorization: Bearer <STUDENT_TOKEN>

EXPECTED OUTPUT (200):
{
  "message": "Feedback deleted successfully"
}

BUSINESS RULES:
- Only the student who created the feedback can delete it
- Deleting feedback updates course and instructor rating aggregates


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. MARK FEEDBACK AS HELPFUL (AUTHENTICATED)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

METHOD:   POST
URL:      http://localhost:5000/api/feedback/<FEEDBACK_ID>/helpful
HEADERS:  
  Authorization: Bearer <YOUR_TOKEN>

EXPECTED OUTPUT (200):
{
  "message": "Feedback marked as helpful",
  "helpfulVotes": 4
}

BUSINESS RULES:
- Any authenticated user can mark feedback as helpful
- Each vote increments the helpfulVotes counter


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. GET MY FEEDBACK (STUDENT ONLY)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

METHOD:   GET
URL:      http://localhost:5000/api/feedback/my-feedback
HEADERS:  
  Authorization: Bearer <STUDENT_TOKEN>

EXPECTED OUTPUT (200):
{
  "feedbacks": [
    {
      "_id": "65feedback789...",
      "course": {
        "_id": "65course123...",
        "title": "Complete Node.js Course"
      },
      "instructor": {
        "_id": "65instructor456...",
        "name": "Jane Instructor"
      },
      "courseRating": 5,
      "courseReview": "Excellent course!",
      "instructorRating": 4,
      "instructorReview": "Great instructor!",
      "helpfulVotes": 3,
      "createdAt": "2025-01-08T..."
    }
  ]
}


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š UPDATED COURSE & INSTRUCTOR DATA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ENHANCED COURSE DATA (with ratings)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

METHOD:   GET
URL:      http://localhost:5000/api/courses

EXPECTED OUTPUT (200):
[
  {
    "_id": "65course123...",
    "title": "Complete Node.js Course",
    "description": "Learn Node.js from scratch",
    "instructor": {
      "_id": "65instructor456...",
      "name": "Jane Instructor",
      "instructorRating": 4.2,
      "totalInstructorReviews": 25
    },
    "averageRating": 4.8,
    "totalReviews": 15,
    "createdAt": "2025-01-08T..."
  }
]


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ENHANCED COURSE DETAILS (with full rating info)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

METHOD:   GET
URL:      http://localhost:5000/api/courses/<COURSE_ID>

EXPECTED OUTPUT (200):
{
  "_id": "65course123...",
  "title": "Complete Node.js Course",
  "description": "Learn Node.js from scratch",
  "instructor": {
    "_id": "65instructor456...",
    "name": "Jane Instructor",
    "email": "jane@example.com",
    "instructorRating": 4.2,
    "totalInstructorReviews": 25
  },
  "students": [...],
  "lessons": [...],
  "quizzes": [...],
  "averageRating": 4.8,
  "totalReviews": 15,
  "ratingDistribution": {
    "5": 10,
    "4": 3,
    "3": 2,
    "2": 0,
    "1": 0
  },
  "createdAt": "2025-01-08T...",
  "updatedAt": "2025-01-08T..."
}


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ§ª TESTING WORKFLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RECOMMENDED TESTING SEQUENCE:

1. **Setup Phase:**
   - Register student and instructor users
   - Create a course as instructor
   - Enroll student in the course

2. **Feedback Creation:**
   - Login as student
   - Create feedback for the enrolled course
   - Verify course and instructor ratings are updated

3. **Feedback Retrieval:**
   - Get course feedback (public)
   - Get instructor feedback (public)
   - Get student's own feedback

4. **Feedback Management:**
   - Update feedback (within 30 days)
   - Mark feedback as helpful
   - Try to create duplicate feedback (should fail)

5. **Permission Testing:**
   - Try to create feedback without enrollment (should fail)
   - Try to update someone else's feedback (should fail)
   - Try to update feedback after 30 days (should fail)

6. **Rating Verification:**
   - Check course listing shows updated ratings
   - Check course details shows rating distribution
   - Check instructor profile shows aggregated ratings


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸ COMMON ERRORS & SOLUTIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ERROR: "You must be enrolled in this course to leave feedback"
â†’ Student must be enrolled in the course first

ERROR: "You have already provided feedback for this course"
â†’ Only one feedback per student per course is allowed

ERROR: "Feedback can only be edited within 30 days of creation"
â†’ Feedback has an edit window of 30 days

ERROR: "You can only update your own feedback"
â†’ Students can only modify their own feedback

ERROR: "Course not found" / "Instructor not found"
â†’ Invalid course or instructor ID provided


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ FEATURES IMPLEMENTED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Course Rating System (1-5 stars)
âœ… Instructor Rating System (1-5 stars)
âœ… Written Reviews for both courses and instructors
âœ… Rating Aggregation and Distribution
âœ… Enrollment Verification
âœ… One Feedback per Student per Course
âœ… Feedback Edit Window (30 days)
âœ… Helpful Votes System
âœ… Pagination and Sorting
âœ… Real-time Rating Updates
âœ… Comprehensive Permission System

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•